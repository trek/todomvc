{
  "name": "ember-model",
  "version": "0.0.6",
  "main": "ember-model.js",
  "dependencies": {
    "ember": "~1.0.0-rc.5",
    "handlebars": "~1.0.0-rc.4",
    "jquery": "~1.9.1"
  },
  "devDependencies": {
    "qunit": "~1.11"
  },
  "ignore": [
    "**/.*",
    "node_modules",
    "components"
  ],
  "gitHead": "706a25cdf1156a5bb8a311e1805c0ef6029b2e07",
  "readme": "# Ember.Model [![Build Status](https://travis-ci.org/ebryn/ember-model.png?branch=master)](https://travis-ci.org/ebryn/ember-model)\n\n## Introduction\n\nEmber Model (EM) is a simple and lightweight model library for Ember. It intentionally supports a limited feature set. The main goal is to provide primitives on top of $.ajax that are required by Ember.\n\nEM is still very much a work in progress, but it's flexible enough to be used in apps today. It was extracted out of an Ember app. Please see the issues section for a list of bugs and planned features.\n\n## Getting Started with Ember Model\n\n[Download latest build of Ember Model](http://builds.erikbryn.com/ember-model/ember-model-latest.js)\n\n[![Getting started Embercast](http://f.cl.ly/items/1T1t2T2p3d2u0A2b0q2P/embercast.png)](http://www.embercasts.com/episodes/getting-started-with-ember-model)\n\nNeed more help getting started? Join us in #ember-model on Freenode.\n\n## Features\n\n- BYO$A (bring your own $.ajax)\n- Relationships (hasMany/belongsTo)\n- Focused on performance\n- Automatic coalescing of multiple findById calls into a single findMany\n- Customizable dirty tracking (great for embedded objects)\n- Fixtures\n- Identity map (per class)\n- Promises everywhere\n- Customizable RESTAdapter\n\nIf you want more features than Ember Model provides, file an issue. Feature requests/contributions are welcome but the goal is to keep things simple and fast.\n\n## Example usage\n\n```javascript\nvar attr = Ember.attr, hasMany = Ember.hasMany;\n\n// Model definitions\nApp.User = Ember.Model.extend({\n  id: attr(),\n  name: attr(),\n  comments: hasMany(\"App.Comment\", {key: 'comment_ids'})\n});\n\nApp.User.url = \"/users\";\nApp.User.adapter = Ember.RESTAdapter.create();\n\nApp.Comment = Ember.Model.extend({\n  id: attr(),\n  text: attr()\n});\n\nApp.Comment.url = \"/comments\";\nApp.Comment.adapter = Ember.RESTAdapter.create();\n\n// create example\n\nvar newUser = App.User.create({name: \"Erik\"});\nnewUser.save(); // POST to /users.json\n\n// hasMany example\nvar comments = newUser.get('comments');\ncomments.create({text: \"hello!\"});\ncomments.save(); // POST to /comments.json\n\n// find & update example\n\nvar existingUser = App.User.find(1); // GET /users/1.json\nexistingUser.set('name', 'Kris');\nexistingUser.get('isDirty'); // => true\nexistingUser.save(); // PUT /users/1.json\n```\n\n## Model API\n\n`Model#create` - create a new record\n\n`Model#save` - save or update record\n\n`Model#deleteRecord` - delete a record\n\n`Model#load` - load JSON into the record (typically used inside adapter definition)\n\n`Model#toJSON` - serialize the record to JSON\n\n`Model.find()` - find all records\n\n`Model.find(<String|Number>)` - find by primary key (multiple calls within a single run loop can coalesce to a findMany)\n\n`Model.find(<object>)` - find query - object gets passed directly to your adapter\n\n`Model.load(<array>)` - load an array of model data (aka sideloading)\n\n## Adapter API\n\n```javascript\nEmber.Adapter = Ember.Object.extend({\n  find: function(record, id) {}, // find a single record\n\n  findAll: function(klass, records) {}, // find all records\n\n  findMany: function(klass, records, ids) {}, // find many records by primary key (batch find)\n\n  findQuery: function(klass, records, params) {}, // find records using a query\n\n  createRecord: function(record) {}, // create a new record on the server\n\n  saveRecord: function(record) {}, // save an existing record on the server\n\n  deleteRecord: function(record) {} // delete a record on the server\n});\n```\n\n## Attribute types\n\nAttributes by default have no type and are not typecast from the representation\nprovided in the JSON format. Objects and arrays are cloned, so that clean copy\nof the attribute is maintained internally in case of wanting to revert a dirty\nrecord to a clean state.\n\n\n### Built in attribute types\n\nEmber Model has built in `Date` and `Number` types. The `Date` type will deserialize\nstrings into a javascript Date object, and will serialize dates into\n[ISO 8601](http://en.wikipedia.org/wiki/ISO_8601) format. The `Number` type will\ncast into a numeric type on serialization and deserialization.\n\n```javascript\nApp.Post = Ember.Model.extend({\n  date: attr(Date),\n  comment_count: attr(Number)\n});\n```\n### Custom attribute types\n\nTo provide custom attribute serialization and deserialization, create an object that\nhas serialize and deserialize functions, and pass it into the attr helper:\n\n```javascript\nvar Time = {\n  serialize: function(time) {\n    return time.hour + \":\" + time.min;\n  },\n  deserialize: function(string) {\n    var array = string.split(\":\");\n    return {\n      hour: parseInt(array[0], 10),\n      min: parseInt(array[1], 10)\n    };\n  }\n};\n\nvar Post = Ember.Model.extend({\n  time: attr(Time)\n});\n```\n\n## Relationships\n\nEmber Model provides two types of relationships `hasMany` and `belongsTo`. Both types of relationships can either be embedded or referenced by ids.\n\n### Defining Relationships\n\nRelationships are defined by using relationship computed property macros in place of `Ember.attr`. There are two macros available, one for each type of relationship.\n\n`Ember.belongsTo(type, options)` - Provides access to a single related object.\n\n`Ember.hasMany(type, options)` - Provides access to an array of related objects.\n\nBoth relationships take two arguments. \n\n- `type` - Class of the related model or string representation (eg. App.Comment or 'App.Comment').\n\n- `options` - An object with two properties, `key` which is required and `embedded` which is optional and defaults to `false`.\n\n  - `key` - indicates what property of the JSON backing the model will be accessed to access the relationship\n  - `embedded` - If `true` the related objects are expected to be present in the data backing the model. If `false` only the primaryKeys are present in the data backing the model. These keys will be used to load the correct model.\n\n### Relationship Examples\n\n```javascript\n// Embedded Relationship Example\n\npostJson = {\n  id: 99,\n  title: 'Post Title',\n  body: 'Post Body',\n  comments: [\n    {\n      id: 1,\n      body: 'comment body one',\n    },\n    {\n      id: 2,\n      body: 'comment body two'\n    }\n  ]\n};\n\nApp.Post = Ember.Model.extend({\n  id: Ember.attr(),\n  title: Ember.attr(),\n  body: Ember.attr(),\n  comments: Ember.hasMany('App.Comment', {key: 'comments', embedded: true})\n});\n\nApp.Comment = Ember.Model.extend({\n  id: Ember.attr(),\n  body: Ember.attr()\n});\n```\n\n```javascript\n// ID-based Relationship Example\n\npostJson = {\n  id: 99,\n  title: 'Post Title',\n  body: 'Post Body',\n  comment_ids: [1, 2]\n};\n\ncommentsJson = [\n  {\n    id: 1,\n    body: 'Comment body one',\n    post_id: 99\n  },\n  {\n    id: 2,\n    body: 'Coment body two',\n    post_id: 99\n  }\n];\n\nApp.Post = Ember.Model.extend({\n  id: Ember.attr(),\n  title: Ember.attr(),\n  body: Ember.attr()\n  comments: Ember.hasMany('App.Comment', {key: 'comment_ids'})\n});\n\nApp.Comment = Ember.Model.extend({\n  id: Ember.attr(),\n  body: Ember.attr(),\n  post: Ember.belongsTo('App.Post', {key: 'post_id'})\n})\n```\n\n### Working with relationships\n\nWorking with a `belongsTo` relationship is just like working any other `Ember.Model`. An `Ember.Model` instance is returned when accessing a `belongsTo` relationship, so any `Model` methods can be used such as `save()` or `reload()`.\n\n```javascript\ncomment.get('post').reload(); // Reloads the comments post\n\npost.get('comments.lastObject').save(); // Saves the last comment associated to post\n```\n\nAccessing a `hasMany` relationship returns a `HasManyArray` or an `EmbeddedHasManyArray` which have useful methods for working with the collection of records. On any type of `hasMany` relationship you can call `save()` and all the dirty records in the collection will have their `save()` methods called. When working with an embedded `hasMany` relationship you can use the `create(attrs)` method to add a new record to the collection.\n\n```javascript\npost.get('comments').save(); // Saves all dirty comments on post\n\n// Below only works on embedded relationships\npost.get('comments').create({body: 'New Comment Body'}); // Creates a new comment associated to post\n```\n\n## Customizing\n\nThere are a few properties you can set on your class to customize how either\n`Ember.Model` or `Ember.RESTAdapter` work:\n\n### primaryKey\n\nThe property Ember Model uses for a per-record unique value (default: \"id\").\n\n```javascript\nApp.User = Ember.Model.extend({\n  token: attr(),\n  name: attr()\n});\nApp.User.primaryKey = 'token';\n```\n\n```\nGET /users/a4bc81f90.json\n{\"token\": \"a4bc81f90\", \"name\": \"Brian\"}\n```\n\n### rootKey\n\nWhen `RESTAdapter` creates a record from data loaded from the server it will\nuse the data from this property instead of the whole response body.\n\n```javascript\nApp.User = Ember.Model.extend({\n  name: attr()\n});\nApp.User.rootKey = 'user';\n```\n\n```\nGET /users/1.json\n{\"user\": {\"id\": 1, \"name\": \"Brian\"}}\n```\n\n### collectionKey\n\nWhen `RESTAdapter` creates multiple records from data loaded from the server it\nwill use the data from this property instead of the whole response body.\n\n```javascript\nApp.User = Ember.Model.extend({\n  name: attr()\n});\nApp.User.collectionKey = 'users';\n```\n\n```\nGET /users.json\n{\"users\": [{\"id\": 1, \"name\": \"Brian\"}]}\n```\n\n\n### camelizeKeys\n\n\nIf the server sends keys with underscores (ex: ```created_at```),\nrather than camelized (ex: ```createdAt```), setting this option to ```true```\nmakes Ember Model automatically camelize the keys.\n\n```javascript\nApp.User = Ember.Model.extend({\n  firstName: attr()\n});\nApp.User.camelizeKeys = true;\n```\n\n```\nGET /users/1.json\n{\"id\": 1, \"first_name\": \"Brian\"}\n```\n\n```javascript\nuser.get('firstName') // => Brian\n```\n\n\n### Customize Ajax Settings\n\nWhen using `RESTAdapter` custom headers and ajax settings can be applied by extending `RESTAdapter` and defining `ajaxSettings`\n\n```\nApp.CustomAdapter = Ember.RESTAdapter.extend({\n  ajaxSettings: function(url, method) {\n    return {\n      url: url,\n      type: method,\n      headers: {\n        \"authentication\": \"xxx-yyy\"\n      },\n      dataType: \"json\"\n    };\n  }\n});\n```\n\nor it can be done at create time of the RESTAdapter\n\n```\nApp.User.adapter = Ember.RESTAdapter.create({\n  ajaxSettings: function(url, method) {\n    return {\n      url: url,\n      type: method,\n      headers: {\n        \"authentication\": \"xxx-yyy\"\n      },\n      dataType: \"json\"\n    };\n  }\n});\n```\n\n\n\n## Building Ember Model\nEmber Model uses [node.js](http://nodejs.org/) and [grunt](http://gruntjs.com/) as a build system,\nThese three libraries will need to be installed before building.\n\nTo build Ember Model, clone the repository, and run `npm install` to install build dependencies\nand `grunt` to build the library.\n\nUnminified and minified builds of Ember Model will be placed in the `dist`\ndirectory.\n\n## How to Run Unit Tests\n\n### Setup\n\nEmber Model uses [node.js](http://nodejs.org/) and [grunt](http://gruntjs.com/) as a build system\nand test runner, and [bower](http://bower.io/) for dependency management.\n\nIf you have not used any of these tools before, you will need to run `npm install -g bower` and\n`npm install -g grunt-cli` to be able to use them.\n\nTo test Ember Model run `npm install` to install build dependencies, `bower install` to install the\nruntime dependencies and `grunt test` to execute the test suite headlessly via phantomjs.\n\nIf you prefer to run tests in a browser, you may start a development server using\n`grunt develop`. Tests are available at http://localhost:8000/tests\n\n## Who's using Ember Model?\n\n* [LiveNation](http://www.livenation.com)\n* [Square](http://www.squareup.com)\n* [Embercasts](http://www.embercasts.com)\n* [Digital Science](http://www.digital-science.com)\n* [Travis CI](https://travis-ci.org)\n* [Bugzilla-Ember](https://github.com/ebryn/bugzilla-ember)\n* [Embriak](http://github.com/joachimhs/Embriak)\n\nAre you using Ember Model? Submit a pull request to add your project to this list!\n\n## Special Thanks\n\nYehuda Katz (@wycats), Tom Dale (@tomdale), Igor Terzic (@igorT), and company for their amazing work on Ember Data. I believe it's the most ambitious JS project today. The goal is someday everyone's JSON APIs will be conventional enough that Ember Data will be the best choice of data library for Ember. Until then, Ember Model will make it easy to get up and running quickly with Ember.\n\n[![Bitdeli Badge](https://d2weczhvl823v0.cloudfront.net/ebryn/ember-model/trend.png)](https://bitdeli.com/free \"Bitdeli Badge\")\n![](https://d3oi6fmp1dfbdb.cloudfront.net/g.gif?repo=ebryn/ember-model)\n",
  "readmeFilename": "README.md",
  "_id": "ember-model@0.0.6",
  "description": "## Introduction",
  "repository": {
    "type": "git",
    "url": "git://github.com/ebryn/ember-model.git"
  }
}